<div id="securityObjectSettingsModal" class="mds modal fade" tabindex="-1" role="dialog"
     aria-labelledby="advancedObjectSettingsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content large">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="advancedObjectSettingsModalLabel">{{msg('mds.security.title')}}</h4>
            </div>
            <div class="modal-body">
                <div class="form-group form-horizontal clearfix">
                    <div class="form-inline">
                        <label class="control-label col-sm-3 ">{{msg('mds.security.text')}}</label>
                        <select class="form-control input-auto" ng-model="securitySettings.securityMode" security-list="single" mds-field-id="{{field.id}}">
                        	<option ng-repeat="option in securityOptions" value="{{option}}">{{option}}</option>
                        </select>

                        <div class="btn-group" ng-show="securitySettings.securityMode==='USERS'">
                            <select id="usersSelect" class="security-selector btn-group" ui-select2 multiple select2-ng-change="usersChanged" data-placeholder="{{msg('mds.security.usersPlaceholder')}}">
                                <option ng-repeat="u in availableUsers" value="{{u.userName}}">{{u.userName}}</option>
                            </select>
                            <button class="btn btn-danger" ng-click="clearUsers()">{{msg('mds.security.clear')}}</button>
                        </div>

                        <div class="btn-group" ng-show="securitySettings.securityMode==='PERMISSIONS'">
                            <select id="permissionsSelect" class="security-selector btn-group" ui-select2 multiple select2-ng-change="permissionsChanged" data-placeholder="{{msg('mds.security.permissionsPlaceholder')}}">
                                <option ng-repeat="r in availablePermissions" value="{{r.permissionName}}">{{r.permissionName}}</option>
                            </select>
                            <button class="btn btn-danger" ng-click="clearPermissions()">{{msg('mds.security.clear')}}</button>
                        </div>
                    </div>
                </div>

                <div class="form-group form-horizontal clearfix">
                    <div class="form-inline">
                        <label class="control-label col-sm-3 ">{{msg('mds.security.textForReadOnly')}}</label>
                        <select class="form-control input-auto" ng-model="securitySettings.readOnlySecurityMode" security-list="single" mds-field-id="{{field.id}}">
                        	<option ng-repeat="option in securityOptions" value="{{option}}">{{option}}</option>
                        </select>

                        <div class="btn-group" ng-show="securitySettings.readOnlySecurityMode==='USERS'">
                            <select id="readOnlyUsersSelect" class="security-selector btn-group" ui-select2 multiple select2-ng-change="readOnlyUsersChanged" data-placeholder="{{msg('mds.security.usersPlaceholder')}}">
                                <option ng-repeat="u in availableUsers" value="{{u.userName}}">{{u.userName}}</option>
                            </select>
                            <button class="btn btn-danger" ng-click="clearReadOnlyUsers()">{{msg('mds.security.clear')}}</button>
                        </div>

                        <div class="btn-group" ng-show="securitySettings.readOnlySecurityMode==='PERMISSIONS'">
                            <select id="readOnlyPermissionsSelect" class="security-selector btn-group" ui-select2 multiple select2-ng-change="readOnlyPermissionsChanged" data-placeholder="{{msg('mds.security.permissionsPlaceholder')}}">
                                <option ng-repeat="r in availablePermissions" value="{{r.permissionName}}">{{r.permissionName}}</option>
                            </select>
                            <button class="btn btn-danger" ng-click="clearReadOnlyPermissions()">{{msg('mds.security.clear')}}</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal" aria-hidden="true" ng-click="commitSecurity()">
                    {{msg('mds.btn.close')}}
                </button>
            </div>
        </div>
    </div>
</div>
